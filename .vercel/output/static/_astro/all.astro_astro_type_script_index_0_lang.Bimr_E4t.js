import{d as u}from"./cartStore.CTNzjfxz.js";document.addEventListener("DOMContentLoaded",()=>{function l(o){return"Rp "+Number(o).toLocaleString("id-ID")}document.querySelectorAll(".product-card").forEach(o=>{const i=o.querySelector(".price"),d=o.querySelectorAll(".ml-button"),t=o.querySelector(".add-to-cart"),s=o.dataset.product;if(!s){console.error("Product data not found");return}let e;try{e=JSON.parse(s)}catch(r){console.error("Error parsing product data:",r);return}i&&d.forEach(r=>{r.addEventListener("click",()=>{d.forEach(n=>n.classList.remove("active")),r.classList.add("active");const a=r.dataset.ml;if(a&&e.prices[a]){const n=e.prices[a];i.textContent=l(n)}})}),t&&t.addEventListener("click",()=>{const r=o.querySelector(".ml-button.active");if(!r){alert("Silakan pilih ukuran terlebih dahulu!");return}const a=r.dataset.ml;if(!a||!e.prices[a]){console.error("Size atau harga tidak ditemukan"),alert("Terjadi kesalahan, coba lagi.");return}const n={brand:e.brand,name:e.name,image:e.image,size:parseInt(a,10),price:e.prices[a]};console.log("Adding item to cart:",n);try{u(n);const c=t.textContent;t.textContent="Ditambahkan!",t.style.background="#22c55e",t.disabled=!0,setTimeout(()=>{c&&(t.textContent=c),t.style.background="",t.disabled=!1},1200)}catch(c){console.error("Error adding item to cart:",c),alert("Terjadi kesalahan saat menambahkan ke keranjang.")}})})});
